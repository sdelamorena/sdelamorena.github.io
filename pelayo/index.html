<!doctype html>
<html lang="es" data-bs-theme="auto">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pelayo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/jquery-ui-1.10.0.custom.css">
    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>  
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
		<script type="text/javascript">
		// Form 
    $(document).ready(function(){
      $('#form-submit').click(function(e){
          // Pending button
          $('#form-submit').attr({'disabled' : 'true', 'value' : 'Generando documentos...'});
          $(".progress-bar-am").css({"width": "40%"});
          $(".progress-bar-n2").css({"width": "20%"});
          // Finished button
          $.post("https://eocfiew5x2hxtym.m.pipedream.net", $("#form").serialize(), function(result){
            if(result){
              $('#form-submit').attr({'disabled' : 'true', 'value' : 'Documentos generados'});
              $(".progress-bar-am").css({"width": "100%"});
              $(".progress-bar-n2").css({"width": "100%"});
              $('.dwn').removeClass("disabled"); 
            } 
          });
        });
        // Clean button
        jQuery(".btn-clean").on("click", function () {
            jQuery(".duplicate").val("");
        });       
        // Horaderechos time
        const now = new Date(Date.now());
        const time = now.getHours() + ":" + (now.getMinutes() < 10 ? "0" : "") + now.getMinutes();
        document.getElementById("horaderechos").value = time;
        document.getElementById("instructor").value = "130.301"; 
        // Name capitalize
        jQuery("#nombre").keyup(function() {
          var caps = jQuery("#nombre").val(); 
          caps = caps.charAt(0).toUpperCase() + caps.slice(1);
          jQuery("#nombre").val(caps);
        });
        // Name duplicate
        jQuery("#domicilio").keyup(function() {
          var caps = jQuery("#domicilio").val();
          jQuery(".duplicate").val(caps);
        });
        // Police uppercase
        jQuery(".uppercase").keyup(function() {
          jQuery(this).val(jQuery(this).val().toUpperCase());
        });
        // Docs disabled
        jQuery("#documento").on("click", function () {
          jQuery(".doc-field").removeAttr("disabled"); 
          var numerodoc = jQuery(this).children(":selected").attr("id");
          jQuery("#numerodoc").prop("name", numerodoc);
        });
        // NI button
        jQuery("#noid").on("click", function () {
          jQuery("#ordinal").attr("value", "N/I"); 
          jQuery(this).addClass("active"); 
        });
        // NA button
        jQuery("#noaportahijode, #noaportadomicilio").on("click", function () {
          var inputClass = $(this).attr("class").split(' ')[2];
          jQuery("#" + inputClass).attr("value", "NO APORTA"); 
          jQuery(this).addClass("active"); 
        });
        // Autocomplete fields
        jQuery(function() {
          var autoComplete = ['Afganistán','Albania','Alemania','Andorra','Angola','Antigua y Barbuda','Arabia Saudita','Argelia','Argentina','Armenia','Australia','Austria','Azerbaiyán','Bahamas','Bangladés','Barbados','Baréin','Bélgica','Belice','Benín','Bielorrusia','Birmania','Bolivia','Bosnia y Herzegovina','Botsuana','Brasil','Brunéi','Bulgaria','Burkina Faso','Burundi','Bután','Cabo Verde','Camboya','Camerún','Canadá','Catar','Chad','Chile','China','Chipre','Ciudad del Vaticano','Colombia','Comoras','Corea del Norte','Corea del Sur','Costa de Marfil','Costa Rica','Croacia','Cuba','Dinamarca','Dominica','Ecuador','Egipto','El Salvador','Emiratos Árabes Unidos','Eritrea','Eslovaquia','Eslovenia','España','Estados Unidos','Estonia','Etiopía','Filipinas','Finlandia','Fiyi','Francia','Gabón','Gambia','Georgia','Ghana','Granada','Grecia','Guatemala','Guyana','Guinea','Guinea ecuatorial','Guinea-Bisáu','Haití','Honduras','Hungría','India','Indonesia','Irak','Irán','Irlanda','Islandia','Islas Marshall','Islas Salomón','Israel','Italia','Jamaica','Japón','Jordania','Kazajistán','Kenia','Kirguistán','Kiribati','Kuwait','Laos','Lesoto','Letonia','Líbano','Liberia','Libia','Liechtenstein','Lituania','Luxemburgo','Madagascar','Malasia','Malaui','Maldivas','Malí','Malta','Marruecos','Mauricio','Mauritania','México','Micronesia','Moldavia','Mónaco','Mongolia','Montenegro','Mozambique','Namibia','Nauru','Nepal','Nicaragua','Níger','Nigeria','Noruega','Nueva Zelanda','Omán','Países Bajos','Pakistán','Palaos','Palestina','Panamá','Papúa Nueva Guinea','Paraguay','Perú','Polonia','Portugal','Reino Unido','República Centroafricana','República Checa','República de Macedonia','República del Congo','República Democrática del Congo','República Dominicana','República Sudafricana','Ruanda','Rumanía','Rusia','Samoa','San Cristóbal y Nieves','San Marino','San Vicente y las Granadinas','Santa Lucía','Santo Tomé y Príncipe','Senegal','Serbia','Seychelles','Sierra Leona','Singapur','Siria','Somalia','Sri Lanka','Suazilandia','Sudán','Sudán del Sur','Suecia','Suiza','Surinam','Tailandia','Tanzania','Tayikistán','Timor Oriental','Togo','Tonga','Trinidad y Tobago','Túnez','Turkmenistán','Turquía','Tuvalu','Ucrania','Uganda','Uruguay','Uzbekistán','Vanuatu','Venezuela','Vietnam','Yemen','Yibuti','Zambia','Zimbabue','Álava','Albacete','Alicante','Almería','Asturias','Ávila','Badajoz','Barcelona','Burgos','Cáceres','Cádiz','Cantabria','Castellón','Ciudad Real','Córdoba','La Coruña','Cuenca','Gerona','Granada','Guadalajara','Guipúzcoa','Huelva','Huesca','Islas Baleares','Jaén','León','Lérida','Lugo','Madrid','Málaga','Murcia','Navarra','Orense','Palencia','Las Palmas','Pontevedra','La Rioja','Salamanca','Segovia','Sevilla','Soria','Tarragona','Santa Cruz de Tenerife','Teruel','Toledo','Valencia','Valladolid','Vizcaya','Zamora','Zaragoza'];
          const autoCompleteUpper = autoComplete.map(name => name.toUpperCase());
        jQuery(".autocomplete").autocomplete({
          source: autoCompleteUpper,
          autoFocus: true
        });
      });
    });
 		</script>
</head>
  <body class="bg-body-tertiary">
    <div class="container">
      <main>
        <!-- Header -->
        <div class="py-3 text-center">
          <h2>Pelayo</h2>
        </div>
        <!-- Body -->
        <div class="row g-5">
          <div class="col-md-12 col-lg-12">
            <h4 class="mb-3">Ingreso detenido</h4>
            <!-- Acta Header -->
            <h6>Datos del acta de información de derechos <span class="badge badge-primary">N2</span></h6>         
            <form method="post" id="form">
              <div class="form-row">
                <div class="form-group col-md-4 mb-2">
                  <div class="input-group mb-0">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-clock"></i></div>
                    </div>
                    <input type="text" class="form-control" placeholder="Fecha y hora de la hoja de derechos" id="horaderechos" name="horaderechos">
                  </div>
                </div>
                <div class="form-group col-md-6 mb-2">
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-people-fill"></i></div>
                    </div>
                    <input type="text" class="form-control" placeholder="Funcionarios que han procedido a la detención" name="funcionarios">
                  </div>
                </div>   
                <div class="form-group col-md-2 mb-2">
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-car-front-fill"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase" placeholder="Indicativo" name="indicativo">
                  </div>
                </div>                            
                <!-- Amarilla Persona -->
                <div class="form-group col-md-12 mb-0">
                <h6>Datos de la persona detenida <span class="badge badge-warning">CNP V-082</span> <span class="badge badge-primary">N2</span></h6>   
                </div>
                <div class="form-group col-md-4 mb-2">  
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-person-fill"></i></div>
                    </div>
                    <input type="text" class="form-control" placeholder="Nombre" id="nombre" name="nombre">
                  </div>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-people-fill"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase" placeholder="Apellidos" name="apellidos">
                  </div>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-person-fill-up"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase" placeholder="Hijo/a de" id="hijode" name="hijode">
                    <button type="button" class="btn btn-outline-secondary hijode" id="noaportahijode">N/A</button>
                  </div> 
                  <div class="input-group mb-0">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-person-vcard"></i></div>
                    </div>
                    <select class="custom-select" id="documento">
                      <option id="dninie">DNI/NIE</option>
                      <option id="psp">Pasaporte español</option>
                      <option id="otrodoc">Otro documento</option>
                      <option id="INDOCUMENTADO" selected>Indocumentado</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-md-4 mb-2">
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-flag-fill"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase autocomplete" placeholder="Nacionalidad" name="nacionalidad">
                  </div>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-house-fill"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase autocomplete" placeholder="Lugar de nacimiento" name="lugarnacimiento">
                  </div>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-calendar3"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase" placeholder="Fecha de nacimiento" name="fechanacimiento">
                  </div>
                  <div class="input-group mb-0">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-person-vcard"></i></div>
                    </div>
                    <input type="text" class="form-control doc-field" placeholder="Número de documentación" disabled="disabled" id="numerodoc" name="INDOCUMENTADO">
                  </div>
                </div>
                <div class="form-group col-md-4 mb-2">
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-house-fill"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase autocomplete" placeholder="Prov/País" name="provpais">
                  </div>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-person-circle"></i></div>
                    </div>
                    <select class="custom-select" name="sexo">
                      <option selected value="MASCULINO">Masculino</option>
                      <option value="FEMENINO">Femenino</option>
                    </select>
                  </div>   
                </div>             
                <div class="form-group col-md-12 mb-0">
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-building-fill"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase" placeholder="Domicilio" id="domicilio" name="domicilio">
                    <button type="button" class="btn btn-outline-secondary domicilio" id="noaportadomicilio">N/A</button>
                  </div>
                  <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-file-earmark-fill"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase" placeholder="Calificación penal provisional de los hechos / Motivo de la detención" name="motivo">
                  </div>         
                </div>
                <!-- Amarilla Cabecera -->
                <div class="form-group col-md-12 mb-0">
                  <h6>Datos para la hoja de reseña <span class="badge badge-warning">CNP V-082</span></h6>   
                </div>
                <div class="form-group col-md-4 mb-2">
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-database-fill-up"></i></i></div>
                    </div>
                    <select class="custom-select" name="plantillaresena">
                      <option selected value="BPPC Madrid - Sector V">BPPC-SECTOR V</option>
                      <option value="BPPC Madrid - Grupo Noches">BPPC-GRUPO NOCHES</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-md-4 mb-2">
                  <div class="input-group mb-0">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-database-fill"></i></div>
                    </div>
                    <input type="text" class="form-control" placeholder="Nº de ordinal" id="ordinal" name="ordinal">
                    <button type="button" class="btn btn-outline-secondary" id="noid" value="noid">N/I</button>
                  </div> 
                </div>
                <div class="form-group col-md-4 mb-2"> 
                  <div class="input-group mb-0">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-person-badge"></i></div>
                    </div>
                    <input type="text" class="form-control" placeholder="Instructor" id="instructor" name="instructor">
                  </div>
                </div>         
                <!-- Elementos esenciales -->
                <div class="form-group col-md-12 mb-0">
                  <h6>Información de elementos esenciales de las actuaciones <span class="badge badge-primary">N2</span></h6> 
                </div>
                <div class="form-group col-md-2 mb-0">
                  <div class="input-group mb-0">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-clock"></i></div>
                    </div>
                    <input type="text" class="form-control" placeholder="Hora detención" name="horadetencion">
                  </div>
                </div>
                <div class="form-group col-md-10 mb-0">
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text"><i class="bi bi-house-lock-fill"></i></div>
                    </div>
                    <input type="text" class="form-control uppercase duplicate" placeholder="Lugar de la detención" name="lugardetencion">
                    <button type="button" class="btn btn-clean btn-outline-secondary"><i class="bi bi-trash"></i></button>
                  </div>
                </div>
                <div class="form-group col-md-12 mb-2">
                  <div class="input-group mb-2">
                    <textarea class="form-control" placeholder="Breve resumen de los hechos" rows="3" name="hechos"></textarea>
                  </div>  
                </div>
                <div class="form-group col-md-12 mb-0">
                  <h6>Datos para remisión <span class="badge badge-primary">N2</span></h6>  
                </div>
                <div class="form-group col-md-12">
                  <div class="input-group mb-0">
                    <div class="input-group-prepend">
                      <div class="input-group-text">Asunto</div>
                    </div>
                    <input type="text" class="form-control uppercase" placeholder="N2 UN DETENIDO MALOS TRATOS CD PUENTE VALLECAS">
                    <button type="button" class="btn btn-copy btn-outline-secondary"><i class="bi bi-clipboard"></i></button>
                  </div>          
                </div>    
              </div>
              <input type="submit" class="w-100 btn btn-primary btn-lg mb-3" id="form-submit" value="Generar"></input> 
            </form>
            <div class="table-responsive">
              <table class="table table-striped mb-0">
                <tbody>
                  <tr>
                    <th scope="row">1</th>
                    <td>Hoja de reseña e identificación dactilar <span class="badge badge-warning">CNP V-082</span> </td>
                    <td>
                      <div class="container">
                        <div class="row">
                          <div class="col-8">
                            <div class="progress">
                              <div class="progress-bar progress-bar-striped progress-bar-animated progress-bar-am" role="progressbar"></div>
                            </div>
                          </div>
                          <div class="col-4">
                            <a href="http://sdelamorena.github.io/output.docx" class="btn btn-secondary btn-sm dwn disabled" role="button" aria-pressed="true">Descargar <i class="bi bi-arrow-down-circle"></i></a>
                          </div>
                        </div>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <th scope="row">2</th>
                    <td>Nota informativa con detenido <span class="badge badge-primary">N2</span></td>
                    <td>
                      <div class="container">
                        <div class="row">
                          <div class="col-8">
                            <div class="progress">
                              <div class="progress-bar progress-bar-striped progress-bar-animated progress-bar-n2" role="progressbar"></div>
                            </div>
                          </div>
                          <div class="col-4">
                            <a href="#" class="btn btn-secondary btn-sm dwn disabled" role="button" aria-pressed="true">Descargar <i class="bi bi-arrow-down-circle"></i></a>
                          </div>
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div> 
          </div>
        </div>
      </main>
      <footer class="text-body-secondary text-center text-small">
        <hr> 
        <p>@sdelamorena - 2024</p>
      </footer>
    </div>
</html>